<h2 mat-dialog-title>Add New Report</h2>
<mat-dialog-content class="mat-typography">
  <form [formGroup]="reportFromGroup">
    <mat-form-field class="col-12 small mb-1">
      <mat-label>Titre</mat-label>
      <input formControlName="titre" matInput />
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-form-field">
      <mat-label>Choose a date</mat-label>
      <input formControlName="datecrea" matInput [matDatepicker]="datepicker" />
      <mat-hint>MM/DD/YYYY</mat-hint>
      <mat-datepicker-toggle
        matIconSuffix
        [for]="datepicker"
      ></mat-datepicker-toggle>
      <mat-datepicker #datepicker>
        <mat-datepicker-actions>
          <button mat-button matDatepickerCancel>Cancel</button>
          <button mat-raised-button color="primary" matDatepickerApply>
            Apply
          </button>
        </mat-datepicker-actions>
      </mat-datepicker>
    </mat-form-field>


    <div class="row">
      <div class="col-md-6 mb-4">
        <div class="form-outline">
          <mat-form-field appearance="fill">
            <mat-label>Blood Pressure</mat-label>
            <input matInput formControlName="bloodPressure" />
          </mat-form-field>
        </div>
      </div>
      <div class="col-md-6 mb-4">
        <div class="form-outline">
          <mat-form-field appearance="fill">
            <mat-label>Blood Sugar</mat-label>
            <input matInput formControlName="bloodSugar" />
          </mat-form-field>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-6 mb-4">
        <div class="form-outline">
          <mat-form-field appearance="fill">
            <mat-label>Heart Beat</mat-label>
            <input matInput formControlName="heartBeat" />
          </mat-form-field>
        </div>
      </div>
      <div class="col-md-6 mb-4">
        <div class="form-outline">
          <mat-form-field appearance="fill">
            <mat-label>Temperature</mat-label>
            <input matInput formControlName="temperature" />
          </mat-form-field>
        </div>
      </div>
    </div>

    <div class="row text-center justify-content-center my-3">
      <div class="col col-lg-6">
        <button
          color="primary"
          (click)="addTraitment()"
          mat-raised-button
          matIconSuffix
        >
          Add Traitment
          <mat-icon>add</mat-icon>
        </button>
      </div>
    </div>
    <ng-container *ngIf="traitementFlag"> </ng-container>

    <div formArrayName="listeTraitement">
      <ng-container
        *ngFor="let traitment of getTraitment().controls; let index = index"
        [formGroupName]="index"
      >
        <div class="row">
          <mat-form-field class="col col-lg-5 small mb-1">
            <mat-label>Traitment Name</mat-label>
            <input formControlName="nomtraimenet" matInput />
          </mat-form-field>
          <mat-form-field class="col col-lg-3 small mb-1">
            <mat-label>Period</mat-label>
            <input formControlName="period" matInput />
          </mat-form-field>
          <mat-form-field  class="col col-lg-2 small mb-1">
            <mat-label>Dose</mat-label>
            <input formControlName="dose" matInput />
          </mat-form-field>
          <button (click)="deleteTraitment(index)" color="warn" mat-icon-button>
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </ng-container>
    </div>
  </form>

</mat-dialog-content>
<mat-dialog-actions align="end">
  <button mat-button mat-dialog-close>Cancel</button>
  <button mat-button (click)="addReport()" cdkFocusInitial>Add</button>
</mat-dialog-actions>
